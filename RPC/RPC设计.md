# RPC设计



## 简介

> RPC（Remote Procedure Call）远程过程调用协议
> RPC协议是假定某些传输协议的存在，如TCP或UDP，为通信程序之间携带信息数据。在OSI网络通信模型中，RPC跨越了传输层和应用层。RPC在包括网络分布式多程序在内的应用程序开发更加容易。

RPC框架的主要目标就是让远程服务调用更简单、透明。RPC框架负责屏蔽底层的传输方式（TCP或者UDP）、序列化方式（XML/JSON/二进制）和通信细节。开发人员在使用的时候只需要了解谁在什么位置提供了什么样的远程服务接口即可，并不需要关心底层通信细节和调用过程。

1. 从通信协议的层面，大致可以分为：
   - 基于HTTP协议的（例如基于文本的SOAP（XML）、Rest（JSON），基于二进制Hessian（Binary））；
   - 基于TCP协议的（通常会借助Mina、Netty等高性能网络框架）。
2. RPC架构分为**三部分**：

- 服务提供者，运行在服务器端，提供服务接口定义与服务实现类。
- 服务中心，运行在服务器端，负责将本地服务发布成远程服务，管理远程服务，提供给服务消费者使用。
- 服务消费者，运行在客户端，通过远程代理对象调用远程服务。



## 性能优化

1. 性能，影响RPC性能的主要在几个方面：

- 序列化/反序列化的框架；
- 网络协议，网络模型，线程模型等。

1. 安全 RPC安全的主要在于服务接口的鉴权和访问控制支持。







